!function(){return function e(t,n,r){function o(c,a){if(!n[c]){if(!t[c]){var u="function"==typeof require&&require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[c]={exports:{}};t[c][0].call(s.exports,function(e){return o(t[c][1][e]||e)},s,s.exports,e,t,n,r)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}}()({1:[function(e,t,n){"use strict";var r=e("./synth"),o=e("handle-error-web"),i=e("oknok"),c=e("audio-context-singleton")().getCurrentContext;document.getElementById("start-button").addEventListener("click",function(){c(i({ok:function(e){r({ctx:e,index:+a.value,modFreq:+u.value,carrierType:s.value,carrierFreq:+l.value,envelopePeakRate:+f.value,envelopeDecayRate:+d.value,vibratoRateFreq:+v.value,vibratoPitchVariance:p.value})({delaySeconds:0,durationSeconds:+m.value})},nok:o}))});var a=document.getElementById("index-field"),u=document.getElementById("mod-freq-field"),l=document.getElementById("carrier-field"),s=document.getElementById("wave-type-select"),f=document.getElementById("peak-rate-field"),d=document.getElementById("decay-rate-field"),v=document.getElementById("vibrato-rate-field"),p=document.getElementById("vibrato-pitch-field"),m=document.getElementById("duration-field")},{"./synth":7,"audio-context-singleton":2,"handle-error-web":4,oknok:5}],2:[function(e,t,n){var r=e("call-next-tick");t.exports=function(){var e;return{getCurrentContext:function(n){e?r(n,null,e):t(n)},getNewContext:t};function t(t,n){var r,o;function i(){var t;r&&r.sampleRate&&(t={sampleRate:r.sampleRate}),e="function"==typeof AudioContext?new AudioContext(t):new webkitAudioContext(t),o(null,e)}"function"==typeof t?o=t:"function"==typeof n&&(o=n,"object"==typeof t&&(r=t)),e?e.close().then(i):i()}}},{"call-next-tick":3}],3:[function(e,t,n){(function(e){t.exports=function(){var t,n,r,o=arguments.length;if(!(o>0))throw new Error("No callback provided to callNextTick.");t=arguments[0],n=new Array(o-1);for(var i=1;i<o;++i)n[i-1]=arguments[i];r=function(e,t){return function(){e.apply(e,t)}}(t,n),e.nextTick(r)}}).call(this,e("_process"))},{_process:6}],4:[function(e,t,n){t.exports=function(e){if(e){console.error(e,e.stack);var t="";e.name&&(t+=e.name+": "),t+=e.message,e.stack&&(t+=" | "+e.stack.toString()),function(e){var t=document.getElementById("status-message");t.textContent=e,t.classList.remove("hidden")}(t)}}},{}],5:[function(e,t,n){t.exports=function({ok:e,nok:t,log:n=console.log}){return function(r){if(r)n&&(r.stack?n(r,r.stack):n(r)),t&&t(r);else if(e){var o=Array.prototype.slice.call(arguments,1);t&&o.push(t),e.apply(e,o)}}}},{}],6:[function(e,t,n){var r,o,i=t.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===c||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:c}catch(e){r=c}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var l,s=[],f=!1,d=-1;function v(){f&&l&&(f=!1,l.length?s=l.concat(s):d=-1,s.length&&p())}function p(){if(!f){var e=u(v);f=!0;for(var t=s.length;t;){for(l=s,s=[];++d<t;)l&&l[d].run();d=-1,t=s.length}l=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],7:[function(e,t,n){"use strict";t.exports=function(e){var t=e.index,n=e.modFreq,r=e.carrierType,o=e.carrierFreq,i=e.envelopePeakRate,c=e.envelopeDecayRate,a=e.timeNeededForEnvelopeDecay,u=void 0===a?2:a,l=e.vibratoRateFreq,s=e.vibratoPitchVariance,f=e.ctx,d=t*n,v=function(e){var t=e.rateFreq,n=e.pitchVariance,r=e.ctx,o=r.createOscillator();o.frequency.value=t;var i=r.createGain();return i.gain.value=n,o.connect(i),{generator:o,amp:i}}({rateFreq:l,pitchVariance:s,ctx:f}),p=f.createOscillator();p.frequency.value=n;var m=f.createGain();m.gain.value=d;var y=f.createOscillator();y.type=r,y.frequency.value=o;var h=f.createGain();return v.amp.connect(p.detune),p.connect(m),m.connect(y.frequency),y.connect(h),h.connect(f.destination),function(e){var t=e.delaySeconds,n=e.durationSeconds,r=f.currentTime+t,o=r+n;h.gain.value=0,h.gain.setTargetAtTime(1,r,i),h.gain.setTargetAtTime(0,o,c),p.start(r),p.stop(o+u),y.start(r),y.stop(o+u),v.generator.start(r),v.generator.stop(o+u)}}},{}]},{},[1]);